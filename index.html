<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Juego del Impostor</title>

  <style>
    :root {
      --bg: #0f172a;
      --card: #020617;
      --primary: #2563eb;
      --secondary: #16a34a;
      --text: #e5e7eb;
      --muted: #94a3b8;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: env(safe-area-inset-top) env(safe-area-inset-right)
               env(safe-area-inset-bottom) env(safe-area-inset-left);
      min-height: 100vh;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      background: var(--bg);
      color: var(--text);
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .app {
      width: 100%;
      max-width: 420px;
      padding: 20px;
      border-radius: 16px;
    }

    h2 {
      margin-top: 0;
      margin-bottom: 16px;
      font-size: 1.4rem;
    }

    input {
      width: 100%;
      padding: 14px;
      font-size: 1rem;
      border-radius: 10px;
      border: none;
      margin-bottom: 10px;
    }

    button {
      width: 100%;
      padding: 14px;
      font-size: 1rem;
      border-radius: 12px;
      border: none;
      cursor: pointer;
      background: var(--primary);
      color: white;
      margin-bottom: 10px;
      touch-action: manipulation;
    }

    button.secondary {
      background: var(--secondary);
    }

    button:disabled {
      background: #334155;
      cursor: not-allowed;
    }

    ul {
      list-style: none;
      padding: 0;
      margin: 10px 0;
    }

    li {
      padding: 6px 0;
      color: var(--muted);
    }

    #buttons button {
      font-size: 1.1rem;
    }

    #result {
      font-size: 1.4rem;
      margin: 16px 0 8px;
      min-height: 36px;
    }

    #countdown {
      font-size: 1rem;
      color: var(--muted);
      min-height: 24px;
    }

    /* Tablet + desktop */
    @media (min-width: 768px) {
      .app {
        max-width: 500px;
        padding: 32px;
      }

      h2 {
        font-size: 1.6rem;
      }

      button {
        font-size: 1.1rem;
      }
    }
  </style>
</head>

<body>

  <div class="app">

    <h1>El impostor</h1>
    <!-- SETUP -->
    <div id="setup">
      <h2>Jugadores</h2>

      <input id="playerInput" placeholder="Nombre del jugador" />
      <button onclick="addPlayer()">Agregar</button>

      <ul id="playerList"></ul>

      <button class="secondary" onclick="startGame()">Empezar juego</button>
    </div>

    <!-- JUEGO -->
    <div id="game" style="display:none;">
      <h2>Toc치 tu nombre</h2>

      <div id="buttons"></div>

      <p id="result"></p>
      <p id="countdown"></p>

      <button class="secondary" onclick="resetGame()">Nueva partida</button>
    </div>

  </div>

<script>
  // ===== ESTADO =====
  const players = [];
const words = [
  "Manzana",
  "Banana",
  "Naranja",
  "Frutilla",
  "Sand칤a",
  "Uva",
  "Pera",
  "Lim칩n",
  "Durazno",
  "Anan치",

  "Auto",
  "Cami칩n",
  "Moto",
  "Bicicleta",
  "Avi칩n",
  "Barco",
  "Tren",
  "Subte",
  "Colectivo",
  "Helic칩ptero",

  "Perro",
  "Gato",
  "Caballo",
  "Vaca",
  "Oveja",
  "Cerdo",
  "Conejo",
  "Le칩n",
  "Tigre",
  "Elefante",

  "Playa",
  "Monta침a",
  "Bosque",
  "Desierto",
  "R칤o",
  "Lago",
  "Isla",
  "Cascada",
  "Volc치n",
  "Selva",

  "Mesa",
  "Silla",
  "Cama",
  "Sof치",
  "Armario",
  "Puerta",
  "Ventana",
  "Espejo",
  "L치mpara",
  "Alfombra",

  "Tel칠fono",
  "Computadora",
  "Teclado",
  "Mouse",
  "Pantalla",
  "Auriculares",
  "C치mara",
  "Televisor",
  "Reloj",
  "Radio",

  "Pizza",
  "Hamburguesa",
  "Empanada",
  "Milanesa",
  "Asado",
  "Pasta",
  "Sopa",
  "Ensalada",
  "Sandwich",
  "Torta",

  "Pelota",
  "Raqueta",
  "Tablero",
  "Dado",
  "Carta",
  "Rompecabezas",
  "Videojuego",
  "Mu침eco",
  "Bloques",
  "Trompo",

  "Escuela",
  "Hospital",
  "Banco",
  "Supermercado",
  "Restaurante",
  "Cine",
  "Teatro",
  "Museo",
  "Biblioteca",
  "Estadio",

  "Sombrero",
  "Zapato",
  "Campera",
  "Remera",
  "Pantal칩n",
  "Bufanda",
  "Guantes",
  "Vestido",
  "Cintur칩n",
  "Mochila",

  "Sol",
  "Luna",
  "Estrella",
  "Nube",
  "Lluvia",
  "Viento",
  "Nieve",
  "Tormenta",
  "Arco칤ris",
  "Trueno"
];


  let impostorIndex = null;
  let secretWord = "";
  let countdownInterval = null;

  // ===== SETUP =====
  function addPlayer() {
    const input = document.getElementById("playerInput");
    const name = input.value.trim();
    if (!name) return;

    players.push(name);
    input.value = "";
    renderPlayerList();
  }

  function renderPlayerList() {
    const ul = document.getElementById("playerList");
    ul.innerHTML = "";
    players.forEach(player => {
      const li = document.createElement("li");
      li.textContent = player;
      ul.appendChild(li);
    });
  }

  // ===== JUEGO =====
  function startGame() {
    if (players.length < 3) {
      alert("M칤nimo 3 jugadores");
      return;
    }

    document.getElementById("setup").style.display = "none";
    document.getElementById("game").style.display = "block";

    resetGame();
  }

  function resetGame() {
    clearInterval(countdownInterval);

    impostorIndex = Math.floor(Math.random() * players.length);
    secretWord = words[Math.floor(Math.random() * words.length)];

    document.getElementById("result").textContent = "";
    document.getElementById("countdown").textContent = "";

    renderButtons();
  }

  function renderButtons() {
    const container = document.getElementById("buttons");
    container.innerHTML = "";

    players.forEach((player, index) => {
      const btn = document.createElement("button");
      btn.textContent = player;
      btn.onclick = () => revealRole(index, btn);
      container.appendChild(btn);
    });
  }

  function revealRole(index, button) {
    clearInterval(countdownInterval);

    const result = document.getElementById("result");
    const countdownEl = document.getElementById("countdown");

    result.textContent =
      index === impostorIndex
        ? "游땓 IMPOSTOR 游땓"
        : "Palabra: " + secretWord.toUpperCase();

    button.disabled = true;

    let seconds = 5;
    countdownEl.textContent = `Se oculta en ${seconds}s`;

    countdownInterval = setInterval(() => {
      seconds--;
      countdownEl.textContent = `Se oculta en ${seconds}s`;

      if (seconds === 0) {
        clearInterval(countdownInterval);
        result.textContent = "";
        countdownEl.textContent = "";
      }
    }, 1000);
  }
</script>

</body>
</html>
